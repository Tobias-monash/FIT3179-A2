{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "config": { "view": { "stroke": "" } },
    "width": 750,
    "height": 50,
    "data": {
      "url": "emoji.csv",
      "format": {
        "type": "csv"
      }
    },
    "transform": [    {
        "calculate": "'üë∂üèæ'", 
        "as": "emoji"
      },
        { "window": [{ "op": "rank", "as": "number" }], "groupby": ["region"] }

    ],
    "mark": { "type": "text", "baseline": "middle" },
    "encoding": {
        "x": { "field": "number", "type": "ordinal", "axis": null, "scale": { "type": "band"} },
        "y": { "field": "child", "type": "nominal", "axis": null, "sort": null },
        "row": { "field": "region", "header": { "title": "" } },
        "text": { "field": "emoji", "type": "nominal" },
        "size": { "value": 20 }

    }
}